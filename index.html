<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Notre Histoire ‚ù§Ô∏è</title>
<style>
body{
  margin:0;
  font-family:Segoe UI,sans-serif;
  background:#0f0f1a;
  color:white;
  overflow:hidden;
}
canvas{position:fixed;top:0;left:0;z-index:-1;}
.page{
  display:none;
  height:100vh;
  justify-content:center;
  align-items:center;
  padding:40px;
  transition:all 0.8s;
}
.active{display:flex;animation:fade 0.8s;}
.card{
  position:relative;
  background:rgba(255,255,255,0.08);
  backdrop-filter:blur(15px);
  border-radius:25px;
  padding:40px;
  max-width:600px;
  width:100%;
  box-shadow:0 20px 60px rgba(0,0,0,0.5);
  text-align:center;
  overflow:visible;
  transition:0.3s;
}
.card:hover{box-shadow:0 25px 70px rgba(255,77,136,0.5);}
button{
  padding:12px 22px;
  margin:10px;
  border:none;
  border-radius:12px;
  background:#ff4d88;
  color:white;
  cursor:pointer;
  font-size:16px;
  transition:0.3s;
}
button:hover{box-shadow:0 0 15px #ff4d88;}
.flip{perspective:1000px;margin:10px;}
.flip-inner{
  width:140px;height:140px;
  position:relative;
  transform-style:preserve-3d;
  transition:0.6s;
}
.flip:hover .flip-inner{transform:rotateY(180deg);}
.flip-front,.flip-back{
  position:absolute;width:100%;height:100%;
  display:flex;align-items:center;justify-content:center;
  border-radius:12px;
  background:rgba(255,255,255,0.1);
  backface-visibility:hidden;
}
.flip-back{transform:rotateY(180deg);background:#ff4d88;}
@keyframes fade{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}

/* PAGE TRANSITION ROMANTIQUE */
.heart-explosion{
  position:absolute;
  font-size:30px;
  animation:explode 2s ease-out forwards;
}
@keyframes explode{
  0%{
    transform:translate(0,0) scale(0);
    opacity:1;
  }
  100%{
    transform:translate(var(--x),var(--y)) scale(1);
    opacity:0;
  }
}
.love-message{
  font-size:48px;
  font-weight:bold;
  background:linear-gradient(45deg,#ff4d88,#ff8fab,#ffd700);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  animation:glow 2s ease-in-out infinite;
  margin:20px 0;
}
@keyframes glow{
  0%,100%{filter:brightness(1);}
  50%{filter:brightness(1.5);}
}
.subtitle-message{
  font-size:20px;
  margin:20px 0;
  opacity:0;
  animation:fadeInUp 1s ease-out 0.5s forwards;
}
@keyframes fadeInUp{
  from{
    opacity:0;
    transform:translateY(20px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

/* QUIZ DESIGN */
.quiz-header{
  margin-bottom:25px;
}
.quiz-header h2{
  font-size:28px;
  margin-bottom:15px;
  background:linear-gradient(45deg,#ff4d88,#ff8fab);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}
.progress-container{
  margin:15px 0;
}
.progress-bar{
  width:100%;
  height:6px;
  background:rgba(255,255,255,0.1);
  border-radius:10px;
  overflow:hidden;
  margin:10px 0;
}
.progress-fill{
  height:100%;
  background:linear-gradient(90deg,#ff4d88,#ff8fab);
  width:0%;
  transition:width 0.5s ease;
  box-shadow:0 0 10px #ff4d88;
}
.progress-text{
  font-size:14px;
  opacity:0.8;
  margin-top:5px;
}
.question-container{
  min-height:250px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}
.question-number{
  display:inline-block;
  background:linear-gradient(135deg,#ff4d88,#ff8fab);
  color:white;
  padding:5px 15px;
  border-radius:20px;
  font-size:13px;
  font-weight:bold;
  margin-bottom:15px;
}
.question-text{
  font-size:22px;
  margin:20px 0 30px 0;
  font-weight:500;
  line-height:1.4;
}
.quiz-options{
  display:flex;
  flex-direction:column;
  gap:12px;
  width:100%;
  max-width:450px;
  margin:0 auto;
}
.quiz-btn{
  padding:16px 20px;
  background:rgba(255,255,255,0.08);
  border:2px solid rgba(255,77,136,0.3);
  border-radius:15px;
  color:white;
  cursor:pointer;
  font-size:16px;
  transition:all 0.3s;
  width:100%;
  text-align:center;
}
.quiz-btn:hover:not(:disabled){
  border-color:#ff4d88;
  background:rgba(255,77,136,0.15);
  transform:translateY(-2px);
  box-shadow:0 5px 15px rgba(255,77,136,0.3);
}
.quiz-btn:disabled{
  cursor:not-allowed;
  opacity:0.5;
}
.quiz-btn.correct{
  background:rgba(76,217,100,0.2);
  border-color:#4cd964;
  animation:pulse 0.5s;
}
.quiz-btn.wrong{
  background:rgba(255,77,136,0.2);
  border-color:#ff4d88;
  animation:shake 0.5s;
}
.score-display{
  text-align:center;
  padding:20px;
}
.score-number{
  font-size:56px;
  font-weight:bold;
  background:linear-gradient(45deg,#ff4d88,#ff8fab);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  margin:15px 0;
}
.score-message{
  font-size:18px;
  margin:15px 0;
  font-style:italic;
  line-height:1.5;
}
@keyframes pulse{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.05);}
}
@keyframes shake{
  0%,100%{transform:translateX(0);}
  25%{transform:translateX(-10px);}
  75%{transform:translateX(10px);}
}
.confetti{
  position:fixed;
  width:10px;
  height:10px;
  background:#ff4d88;
  animation:confetti-fall 3s linear forwards;
  z-index:9999;
}
@keyframes confetti-fall{
  to{
    transform:translateY(100vh) rotate(360deg);
    opacity:0;
  }
}

.poeme-container{
  position:relative;
  height:320px;
  overflow:hidden;
  border-radius:20px;
  background:rgba(255,255,255,0.05);
  backdrop-filter:blur(12px);
  padding:20px;
  box-shadow:inset 0 0 20px rgba(0,0,0,0.4);
}

/* Texte qui monte du bas vers le haut */
.poeme-scroll{
  position:absolute;
  bottom:-100%;
  width:100%;
  text-align:center;
  font-size:18px;
  line-height:1.7;
  animation:scrollUp 55s linear forwards;
}

@keyframes scrollUp{
  from{ bottom:-100%; }
  to{ bottom:100%; }
}

.poeme-scroll p{
  margin:6px 0;
}
</style>
</head>
<body>

<canvas id="bg"></canvas>

<!-- PAGE 0 INTRO -->
<div class="page active" id="p0">
  <div class="card">
    <h1>‚ù§Ô∏è J'ai quelque chose pour toi ‚ù§Ô∏è</h1>
    <button onclick="go(1)">Commencer</button>
  </div>
</div>

<!-- PAGE 1 QUESTION -->
<div class="page" id="p1">
  <div class="card" id="cardQ">
    <h1>Est-ce que tu m'aimes ? ‚ù§Ô∏è</h1>
    <button id="oui">Oui ‚ù§Ô∏è</button>
    <button id="non">Non üò≠</button>
  </div>
</div>

<!-- PAGE 2 TRANSITION ROMANTIQUE -->
<div class="page" id="p2">
  <div class="card" style="position:relative;overflow:hidden;">
    <div id="heartContainer" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"></div>
    <div class="love-message" id="loveMsg">Je t'aime aussi ! ‚ù§Ô∏è</div>
    <div class="subtitle-message">Tu viens de rendre mon c≈ìur si heureux...</div>
    <button onclick="go(3)" style="margin-top:30px;opacity:0;animation:fadeInUp 1s ease-out 1.5s forwards;">
      D√©couvre notre histoire ‚ú®
    </button>
  </div>
</div>

<!-- PAGE 3 BIENVENUE -->
<div class="page" id="p3">
  <div class="card">
    <h1 id="typing"></h1>
    <h2 id="compteur"></h2>
    <button onclick="go(4)">Suite</button>
  </div>
</div>

<!-- PAGE 4 SOUVENIRS AM√âLIOR√âE -->
<div class="page" id="p4">
  <div class="card" style="max-width:750px;">
    <h2 style="
      font-size:32px;
      margin-bottom:20px;
      background:linear-gradient(45deg,#ff4d88,#ff8fab);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    ">
      Puisque je te le dois ‚ù§Ô∏è
    </h2>

    <p id="citation"
       style="font-style:italic;opacity:0.8;margin-bottom:25px;">
    </p>

    <div class="poeme-container">
      <div class="poeme-scroll">

        <p>Je n‚Äôai ni or, ni couronne,</p>
        <p>des mots, parfois maladroits,</p>
        <p>Mais Il y a dans tes beaux yeux Hazel,</p>
        <p>toute la douceur de ta silhouette</p>
        <p>qui m‚Äôenlace avec tendresse √† chaque fois</p>

        <br>

        <p>Et si aimer est une douce folie,</p>
        <p>Alors je veux bien perdre la raison,</p>
        <p>Car depuis toi, depuis ta vie,</p>
        <p>Mon c≈ìur perdu a trouv√© sa maison.</p>

        <br>

        <p>Je t‚Äôaime d‚Äôun amour qui tremble et br√ªle,</p>
        <p>Qui doute parfois, mais jamais ne ment,</p>
        <p>Le matin, je pense √† toi sans recul,</p>
        <p>Et le soir, ton sourire me rend vivant.</p>

        <br>

        <p>Je promets mes mots, mes gestes et mes nuits,</p>
        <p>Je promets mes silences et mes pens√©es,</p>
        <p>Je promets que tu seras mon seul abri,</p>
        <p>Dans la temp√™te, dans l‚Äôamour, dans la beaut√©.</p>

        <br>

        <p>Quand je doute, je pense √† toi,</p>
        <p>Et la vie retrouve son sens,</p>
        <p>Justine, mon monde s‚Äôillumine,</p>
        <p>Et tout devient parfait.</p>

      </div>
    </div>

    <button onclick="go(5)" style="margin-top:25px;">
      Suite ‚ù§Ô∏è
    </button>
  </div>
</div>

<!-- PAGE 5 QUIZ -->
<div class="page" id="p5">
  <div class="card">
    <div class="quiz-header">
      <h2>Quiz de notre amour üíï</h2>
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progressBar"></div>
        </div>
        <div class="progress-text">Question <span id="currentQ">1</span> sur <span id="totalQ">5</span></div>
      </div>
    </div>

    <div class="question-container" id="questionContainer">
      <!-- Questions dynamiques ici -->
    </div>

    <div id="finalScore" style="display:none;">
      <div class="score-display">
        <div style="font-size:24px;margin-bottom:10px;">üèÜ Ton score d'amour</div>
        <div class="score-number" id="scoreNumber">0/5</div>
        <div class="score-message" id="scoreMessage"></div>
        <button onclick="restartQuiz()" style="margin-top:20px;font-size:18px;padding:15px 30px;">
          Recommencer le quiz ‚ù§Ô∏è
        </button>
        <button onclick="go(0)" style="margin-top:10px;font-size:16px;padding:12px 25px;">
          Retour au d√©but üè†
        </button>
      </div>
    </div>
  </div>
</div>

<script>
// Navigation
function go(n){
  document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
  document.getElementById("p"+n).classList.add("active");
  if(n===2) createHeartExplosion();
  if(n===5) initQuiz();
}

// Bouton NON qui fuit
const non=document.getElementById("non");
const card=document.getElementById("cardQ");
let scale=1;
non.onmouseover=()=>{
  scale*=0.9;
  non.style.transform="scale("+scale+")";
  non.style.position="absolute";
  non.style.left=Math.random()*(card.clientWidth-100)+"px";
  non.style.top=Math.random()*(card.clientHeight-50)+"px";
};

// Bouton OUI - va vers la page de transition
document.getElementById("oui").onclick = () => {
  go(2);
};

// Animation explosion de coeurs
function createHeartExplosion(){
  const container = document.getElementById('heartContainer');
  container.innerHTML = '';
  
  for(let i = 0; i < 20; i++){
    setTimeout(() => {
      const heart = document.createElement('div');
      heart.className = 'heart-explosion';
      heart.innerText = '‚ù§Ô∏è';
      
      const angle = (Math.PI * 2 * i) / 20;
      const distance = 150 + Math.random() * 100;
      const x = Math.cos(angle) * distance;
      const y = Math.sin(angle) * distance;
      
      heart.style.setProperty('--x', x + 'px');
      heart.style.setProperty('--y', y + 'px');
      
      container.appendChild(heart);
      
      setTimeout(() => heart.remove(), 2000);
    }, i * 50);
  }
}

// Typing
let txt="Bienvenue dans notre histoire ‚ù§Ô∏è";
let i=0;
function type(){
  if(i<txt.length){
    document.getElementById("typing").innerHTML+=txt[i];
    i++; setTimeout(type,40);
  }
}

// Observer pour d√©marrer le typing quand on arrive sur la page 3
const observer = new MutationObserver((mutations) => {
  mutations.forEach((mutation) => {
    if(mutation.target.id === 'p3' && mutation.target.classList.contains('active')){
      i = 0;
      document.getElementById("typing").innerHTML = "";
      setTimeout(type, 500);
    }
  });
});

observer.observe(document.getElementById('p3'), {
  attributes: true,
  attributeFilter: ['class']
});

// Compteur
const date=new Date("2025-11-10");
setInterval(()=>{
  let j=Math.floor((new Date()-date)/86400000);
  document.getElementById("compteur").innerText=j+" jours avec toi ‚ù§Ô∏è";
},1000);

// QUIZ - Questions
const questions = [
  {
    question: "üíï Qui a dit 'je t'aime' en premier ?",
    options: ["Moi üòä", "Toi üíñ"],
    correct: 0
  },
  {
    question: " Qui est le plus fou/folle ?",
    options: ["Moi ", "Clairement toi üòú"],
    correct: 1
  },
  {
    question: "üòÇ Qui est le plus dr√¥le ?",
    options: ["Moi sans discussion üé≠", "Bon c'est peut-√™tre toi üé™"],
    correct: 1
  },
  {
    question: "üåπ Qui est le plus romantique ?",
    options: ["Moi √©videmment üíù", "Pourquoi tu regardes 'Toi' ? üëÄ"],
    correct: 0
  },
  {
    question: "üôã‚Äç‚ôÇÔ∏èQui casse le plus de choses?",
    options: ["ü•∫Je pense que c'est moi", "T'es quand m√™me pas loin de moiüòÖ"],
    correct: 1
  }

];

let currentQuestion = 0;
let score = 0;

function initQuiz(){
  currentQuestion = 0;
  score = 0;
  document.getElementById('finalScore').style.display = 'none';
  document.getElementById('questionContainer').style.display = 'block';
  document.getElementById('totalQ').innerText = questions.length;
  showQuestion();
}

function showQuestion(){
  const q = questions[currentQuestion];
  const container = document.getElementById('questionContainer');
  
  container.innerHTML = `
    <span class="question-number">Question ${currentQuestion + 1}</span>
    <div class="question-text">${q.question}</div>
    <div class="quiz-options">
      ${q.options.map((opt, idx) => 
        `<button class="quiz-btn" onclick="selectAnswer(${idx})">${opt}</button>`
      ).join('')}
    </div>
  `;
  
  updateProgress();
}

function selectAnswer(selectedIdx){
  const q = questions[currentQuestion];
  const buttons = document.querySelectorAll('.quiz-btn');
  
  // D√©sactiver tous les boutons
  buttons.forEach(btn => btn.disabled = true);
  
  // Marquer la r√©ponse
  if(selectedIdx === q.correct){
    buttons[selectedIdx].classList.add('correct');
    score++;
    createConfetti();
  } else {
    buttons[selectedIdx].classList.add('wrong');
    buttons[q.correct].classList.add('correct');
  }
  
  // Passer √† la question suivante ou afficher le score
  setTimeout(() => {
    currentQuestion++;
    if(currentQuestion < questions.length){
      showQuestion();
    } else {
      showFinalScore();
    }
  }, 1500);
}

function updateProgress(){
  const progress = ((currentQuestion + 1) / questions.length) * 100;
  document.getElementById('progressBar').style.width = progress + '%';
  document.getElementById('currentQ').innerText = currentQuestion + 1;
}

function showFinalScore(){
  document.getElementById('questionContainer').style.display = 'none';
  document.getElementById('scoreNumber').innerText = score + '/' + questions.length;
  
  let message = '';
  if(score === 5) message = "Parfait ! Tu me connais par c≈ìur ! ü•∞";
  else if(score >= 3) message = "Tr√®s bien ! Notre amour est fort ! üíï";
  else if(score >= 2) message = "Pas mal ! On apprend encore l'un sur l'autre ! üòä";
  else message = "On doit passer plus de temps ensemble ! üíñ";
  
  document.getElementById('scoreMessage').innerText = message;
  document.getElementById('finalScore').style.display = 'block';
  
  if(score === 5){
    for(let i = 0; i < 30; i++){
      setTimeout(() => createConfetti(), i * 100);
    }
  }
}

function restartQuiz(){
  initQuiz();
}

function createConfetti(){
  const colors = ['#ff4d88','#ff8fab','#ffd700','#ff69b4','#ff1493'];
  for(let i = 0; i < 15; i++){
    const confetti = document.createElement('div');
    confetti.className = 'confetti';
    confetti.style.left = (Math.random() * window.innerWidth) + 'px';
    confetti.style.top = '-20px';
    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
    confetti.style.transform = 'rotate(' + (Math.random() * 360) + 'deg)';
    document.body.appendChild(confetti);
    setTimeout(() => confetti.remove(), 3000);
  }
}

// Citations al√©atoires
const citations=[
  "L'amour est la po√©sie des sens.",
  "Je t'aime plus que tout.",
  "Chaque jour avec toi est un cadeau.",
  "Mon c≈ìur bat pour toi.",
  "Nous sommes faits l'un pour l'autre."
];
document.getElementById("citation").innerText=citations[Math.floor(Math.random()*citations.length)];

// Particules fond
const c=document.getElementById("bg");
const ctx=c.getContext("2d");
c.width=innerWidth;c.height=innerHeight;
let part=[];
for(let i=0;i<80;i++)
  part.push({x:Math.random()*c.width,y:Math.random()*c.height,r:2});
function anim(){
  ctx.clearRect(0,0,c.width,c.height);
  part.forEach(p=>{
    ctx.beginPath();
    ctx.arc(p.x,p.y,p.r,0,6.28);
    ctx.fillStyle="white";ctx.fill();
    p.y+=0.2;if(p.y>c.height)p.y=0;
  });
  requestAnimationFrame(anim);
}
anim();
</script>
</body>
</html>
